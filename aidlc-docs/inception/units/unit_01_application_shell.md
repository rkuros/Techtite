# Unit 1: アプリケーションシェル・プラットフォーム基盤

> **対応 Epic**: Epic 1 — デスクトップアプリケーション基盤
> **対応ストーリー**: US-1.1〜US-1.5

---

## ユーザーストーリーと受け入れ基準

### US-1.1 [Must] Vault起動・フォルダ選択

個人開発者として、アプリケーションを起動してプロジェクトフォルダ（Vault）を開きたい。なぜなら、ローカルに保存されたプロジェクトのコードとドキュメントにすぐにアクセスしたいからだ。

- [ ] アプリ起動時にフォルダ選択ダイアログ、または前回のVaultを自動で開ける
- [ ] 選択したフォルダ内のファイル・フォルダ構造が正しく読み込まれる
- [ ] 存在しないパスを指定した場合にエラーメッセージが表示される

### US-1.2 [Must] タブで複数ファイルを開く

個人開発者として、複数のファイルをタブで同時に開きたい。なぜなら、コードファイルとドキュメントを並行して参照・編集する必要があるからだ。

- [ ] ファイルをクリックまたはQuick Switcherで開くとタブが追加される
- [ ] タブをクリックして表示を切り替えられる
- [ ] タブの閉じるボタンまたはショートカットでタブを閉じられる
- [ ] 未保存の変更があるタブにインジケータが表示される

### US-1.3 [Should] ペイン分割

個人開発者として、エディタ画面をペイン分割して複数ファイルを同時表示したい。なぜなら、コードを書きながら関連ドキュメントを参照したいからだ。

- [ ] 水平・垂直方向にペインを分割できる
- [ ] 各ペインで独立したタブを管理できる
- [ ] ペインの境界をドラッグしてサイズを調整できる

### US-1.4 [Should] ウィンドウ状態の復元

個人開発者として、前回終了時のウィンドウ状態（開いていたタブ・ペイン配置）が復元されてほしい。なぜなら、毎回作業環境を再構築する手間を省きたいからだ。

- [ ] アプリ終了時にウィンドウサイズ・位置・タブ・ペイン配置が保存される
- [ ] 次回起動時に前回の状態が復元される

### US-1.5 [Must] IPC経由ファイルI/O

AIエージェントとして、IPC経由でローカルファイルシステムの読み書きができるようにしたい。なぜなら、プロジェクト内のコードとドキュメントをプログラム的に操作する必要があるからだ。

- [ ] Vault内のファイルの読み取り・書き込み・作成・削除がIPC経由で実行できる
- [ ] ファイル変更イベントがフロントエンドに通知される
- [ ] Vault外へのアクセスが制限される（セキュリティ）
