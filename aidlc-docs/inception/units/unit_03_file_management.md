# Unit 3: プロジェクト・ファイル管理

> **対応 Epic**: Epic 3 — プロジェクト・ファイル管理
> **対応ストーリー**: US-3.1〜US-3.5

---

## ユーザーストーリーと受け入れ基準

### US-3.1 [Must] ファイルエクスプローラ

個人開発者として、サイドバーにフォルダツリー形式のファイルエクスプローラを表示したい。なぜなら、プロジェクト全体の構造を把握しながらファイルにアクセスしたいからだ。

- [ ] サイドバーにVault内のフォルダ・ファイルがツリー構造で表示される
- [ ] フォルダの展開・折りたたみができる
- [ ] ファイルをクリックするとエディタで開かれる
- [ ] ファイルシステムの変更（外部からの追加・削除含む）がリアルタイムで反映される

### US-3.2 [Must] ファイルCRUD操作

個人開発者として、ファイルやフォルダの作成・移動・削除・リネームをアプリ内で行いたい。なぜなら、プロジェクトの整理をエディタから離れずに行いたいからだ。

- [ ] 右クリックメニューまたはショートカットで新規ファイル・フォルダを作成できる
- [ ] ドラッグ＆ドロップまたは右クリックメニューでファイルを移動できる
- [ ] ファイル・フォルダの削除ができる（確認ダイアログ付き）
- [ ] ファイル・フォルダのリネームができる
- [ ] ファイル移動・リネーム時に内部リンクが自動更新される

### US-3.3 [Should] Quick Switcher

個人開発者として、Quick Switcher（ファジー検索）でファイル名を入力して素早くファイルを開きたい。なぜなら、大量のファイルの中から目的のファイルにキーボード操作だけで瞬時にアクセスしたいからだ。

- [ ] ショートカットキーでQuick Switcherモーダルが開く
- [ ] 入力に応じてファジーマッチでファイル名候補がリアルタイム表示される
- [ ] EnterキーまたはクリックでファイルID選択・遷移できる
- [ ] 候補表示が高速（入力から100ms以内、p95）である（ベースライン: M1 Mac、Vault 10,000ファイル/1GB規模、ウォーム状態。コールドスタート時は初回インデックス構築後に同等性能）

### US-3.4 [Should] コマンドパレット

個人開発者として、コマンドパレットからアプリケーション内のすべてのアクションを検索・実行したい。なぜなら、メニューを探す手間なく、キーボードだけで効率的に操作したいからだ。

- [ ] ショートカットキーでコマンドパレットが開く
- [ ] 登録されたすべてのコマンドがテキスト検索で絞り込める
- [ ] コマンド選択で対応するアクションが実行される
- [ ] 各コマンドにキーボードショートカットが表示される

### US-3.5 [Must] AIからファイル構造取得

AIエージェントとして、プロジェクト内のファイル一覧とフォルダ構造を取得したい。なぜなら、プロジェクトの全体像を把握した上でコードやドキュメントを適切に配置したいからだ。

- [ ] API経由でVault内の.gitignore適用後の全ファイル・フォルダのツリー構造を取得できる
- [ ] 各ファイルのパス、サイズ、更新日時等のメタデータが含まれる
