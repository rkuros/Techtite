# Unit 7: ターミナル・エージェントダッシュボード

> **対応 Epic**: Epic 6 — AIエージェント管理・ターミナル（UI・操作部分）
> **対応ストーリー**: US-6.1〜US-6.9

---

## ユーザーストーリーと受け入れ基準

### US-6.1 [Must] 組み込みターミナル

個人開発者として、アプリ内に組み込みターミナルを開きたい。なぜなら、AIエージェントの操作やシェルコマンドをエディタから離れずに実行したいからだ。

- [ ] ペイン下部またはタブとしてターミナルを開ける
- [ ] ショートカットキーでターミナルの表示/非表示を切り替えられる
- [ ] 標準的なシェル（zsh/bash）が動作する

### US-6.2 [Must] ターミナル複数タブ（エージェント別）

個人開発者として、ターミナルを複数タブで開き、各AIエージェントの入出力を個別に確認したい。なぜなら、複数のエージェントが並列で作業している内容をそれぞれ追跡したいからだ。

- [ ] 新しいターミナルタブを追加できる
- [ ] 各タブにエージェント名や用途のラベルを付けられる
- [ ] タブ間を切り替えて各ターミナルの出力を確認できる
- [ ] 各ターミナルの出力が独立してスクロール・保持される

### US-6.3 [Should] ターミナル出力スクロールバック・検索

個人開発者として、ターミナルの出力をスクロールバックして過去の実行結果を確認したい。なぜなら、AIエージェントの長い出力の中から特定の情報を探したいからだ。

- [ ] ターミナル出力のスクロールバックが十分な行数保持される
- [ ] ターミナル出力内をテキスト検索できる

### US-6.4 [Must] エージェントダッシュボード（一覧・状態）

個人開発者として、現在稼働中のAIエージェント一覧とその状態を一目で確認したい。なぜなら、複数のエージェントがそれぞれ何をしているか把握したいからだ。

- [ ] ダッシュボードパネルに稼働中エージェントの一覧が表示される
- [ ] 各エージェントの状態（実行中/待機中/完了/エラー）が視覚的に表示される
- [ ] 各エージェントの現在の作業内容（最新の操作やメッセージ）が要約表示される

### US-6.5 [Should] エージェント操作ログ閲覧

個人開発者として、各AIエージェントの操作ログ（作成・編集・削除したファイル）を時系列で閲覧したい。なぜなら、どのエージェントがどのファイルにどのような変更を行ったかを追跡したいからだ。

- [ ] エージェントごとの操作ログを時系列で表示できる
- [ ] ログにはタイムスタンプ、操作種別、対象ファイルパス、変更概要が含まれる
- [ ] ログエントリから該当ファイルに遷移できる
- [ ] 全エージェントの操作を統合した時系列ビューも表示できる

### US-6.6 [Must] エージェント起動・停止

個人開発者として、ダッシュボードからAIエージェントを起動・停止したい。なぜなら、必要に応じてエージェントの数を調整し、リソースを管理したいからだ。

- [ ] ダッシュボードから新しいエージェントを起動できる
- [ ] 稼働中のエージェントを停止できる
- [ ] エージェント起動時に作業内容やコンテキストを指定できる

### US-6.7 [Must] ファイル変更リアルタイム反映

個人開発者として、AIエージェントが編集したファイルの変更をエディタにリアルタイムで反映してほしい。なぜなら、AIの作業結果を即座に確認・レビューしたいからだ。

- [ ] 外部プロセス（Claude Code）によるファイル変更がファイルシステム監視で検出される
- [ ] 検出された変更がエディタの表示に自動反映される
- [ ] 編集中のファイルが外部変更された場合、競合の通知が表示される
- [ ] どのエージェントによる変更かが識別できる

### US-6.8 [Must] AIからプロジェクト構造取得

AIエージェントとして、プロジェクトの構造情報（フォルダ構成、ファイル一覧、リンク関係、タグ情報）を取得したい。なぜなら、プロジェクト全体のコンテキストを理解した上で適切な編集を行いたいからだ。

- [ ] ファイル構造をJSON等の構造化データとして出力・取得できる
- [ ] 各ファイルのメタデータ（frontmatter、タグ、リンク）を取得できる

### US-6.9 [Should] AI操作ログ自動記録

AIエージェントとして、自身が行った操作（ファイルの作成・編集・削除）のログを自動的に記録したい。なぜなら、個人開発者が後からAIの作業内容を確認・追跡できるようにしたいからだ。

- [ ] AIエージェントによるファイル操作が操作ログに自動記録される
- [ ] ログにはエージェント識別子、タイムスタンプ、操作種別、対象ファイルパスが含まれる
- [ ] 操作ログはローカル専用ストレージに保存され、Git同期対象から除外される
